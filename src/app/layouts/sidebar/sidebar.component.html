<button
  aria-controls="default-sidebar"
  type="button"
  (click)="sidebarService.toggleSidebar()"
  class="inline-flex cursor-pointer items-center p-2 mt-2 ms-3 text-sm text-purple-600 rounded-lg 2xl:hidden hover:bg-gradient-to-r from-purple-50 to-pink-50 focus:outline-none focus:ring-2 focus:ring-purple-300 dark:text-purple-300 dark:hover:bg-gray-700 dark:focus:ring-purple-500 transition-all"
>
  <span class="sr-only">Open sidebar</span>
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
    <path
      clip-rule="evenodd"
      d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
    ></path>
  </svg>
</button>
<aside
  id="default-sidebar"
  class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full 2xl:translate-x-0 bg-gradient-to-b from-purple-50 via-pink-50 to-transparent dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 border-r border-purple-200/50 dark:border-gray-700 shadow-xl backdrop-blur-sm"
>
  <div
    class="absolute top-0 right-0 w-8 h-8 bg-gradient-to-br from-purple-600/20 to-transparent clip-path-sidebar-curve"
  ></div>

  <div class="h-full px-3 py-4 overflow-y-auto">
    <div
      class="mb-8 px-2 pb-4 border-b border-purple-200/50 dark:border-gray-700"
    >
      <h1
        class="text-3xl font-extrabold bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent drop-shadow-md"
      >
        Notely
      </h1>
      <p
        class="text-sm text-purple-500/80 dark:text-purple-300/90 mt-1 font-medium"
      >
        Your Intelligent Note Hub
      </p>
    </div>
    <ul class="space-y-3 font-medium">
      @if(isLogin()) {
      <li
        routerLink="/home"
        routerLinkActive=" bg-gradient-to-r rounded-xl from-purple-100 to-pink-100 dark:from-purple-900/30  dark:to-pink-900/30 shadow-purple-100 scale-[1.02]"
        class="cursor-pointer"
      >
        <a
          class="flex items-center p-3 rounded-xl bg-gradient-to-r from-purple-50/50 to-pink-50/50 hover:from-purple-100 hover:to-pink-100 dark:from-gray-700/50 dark:to-gray-800/50 dark:hover:from-purple-900/30 dark:hover:to-pink-900/30 transition-all duration-300 group shadow-sm hover:shadow-purple-100 hover:scale-[1.02] dark:hover:shadow-gray-800"
        >
          <svg
            class="w-6 h-6 p-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg shadow-sm group-hover:scale-110 transition-transform"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
            />
          </svg>
          <span
            class="ms-3 text-purple-700 dark:text-purple-200 font-semibold group-hover:text-purple-900 dark:group-hover:text-white transition-colors"
          >
            Home
          </span>
        </a>
      </li>
      <li class="cursor-pointer" (click)="logOut()">
        <a
          class="flex items-center p-3 rounded-xl bg-gradient-to-r from-red-50/50 to-orange-50/50 hover:from-red-100 hover:to-orange-100 dark:from-red-900/30 dark:to-orange-900/30 transition-all duration-300 group shadow-sm hover:shadow-red-100 hover:scale-[1.02] dark:hover:shadow-gray-800"
        >
          <svg
            class="w-6 h-6 p-1 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg shadow-sm group-hover:scale-110 transition-transform"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
            />
          </svg>
          <span
            class="ms-3 text-red-700 dark:text-red-200 font-semibold group-hover:text-red-900 dark:group-hover:text-white transition-colors"
          >
            Log Out
          </span>
        </a>
      </li>
      } @else {
      <li
        routerLink="/login"
        routerLinkActive=" bg-gradient-to-r rounded-xl from-purple-100 to-pink-100 dark:from-purple-900/30  dark:to-pink-900/30 shadow-purple-100 scale-[1.02]"
        class="cursor-pointer"
      >
        <a
          class="flex items-center p-3 rounded-xl bg-gradient-to-r from-purple-50/50 to-pink-50/50 hover:from-purple-100 hover:to-pink-100 dark:from-gray-700/50 dark:to-gray-800/50 dark:hover:from-purple-900/30 dark:hover:to-pink-900/30 transition-all duration-300 group shadow-sm hover:shadow-purple-100 hover:scale-[1.02] dark:hover:shadow-gray-800"
        >
          <svg
            class="w-6 h-6 p-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg shadow-sm group-hover:scale-110 transition-transform"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linecap="round"
              d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
            />
          </svg>
          <span
            class="ms-3 text-purple-700 dark:text-purple-200 font-semibold group-hover:text-purple-900 dark:group-hover:text-white transition-colors"
          >
            Sign In
          </span>
        </a>
      </li>
      <li
        routerLink="/register"
        routerLinkActive=" bg-gradient-to-r rounded-xl from-purple-100 to-pink-100 dark:from-purple-900/30  dark:to-pink-900/30 shadow-purple-100 scale-[1.02]"
        class="cursor-pointer"
      >
        <a
          class="flex items-center p-3 rounded-xl bg-gradient-to-r from-purple-50/50 to-pink-50/50 hover:from-purple-100 hover:to-pink-100 dark:from-gray-700/50 dark:to-gray-800/50 dark:hover:from-purple-900/30 dark:hover:to-pink-900/30 transition-all duration-300 group shadow-sm hover:shadow-purple-100 hover:scale-[1.02] dark:hover:shadow-gray-800"
        >
          <svg
            class="w-6 h-6 p-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg shadow-sm group-hover:scale-110 transition-transform"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"
            />
          </svg>
          <span
            class="ms-3 text-purple-700 dark:text-purple-200 font-semibold group-hover:text-purple-900 dark:group-hover:text-white transition-colors"
          >
            Sign Up
          </span>
        </a>
      </li>
      }
      <li>
        <button
          id="theme-toggle"
          type="button"
          class="p-2 cursor-pointer flex items-center p-3 rounded-xl bg-gradient-to-r from-purple-50/50 to-pink-50/50 hover:from-purple-100 hover:to-pink-100 dark:from-gray-700/50 dark:to-gray-800/50 dark:hover:from-purple-900/30 dark:hover:to-pink-900/30 transition-all duration-300 group shadow-sm hover:shadow-purple-100 hover:scale-[1.02] dark:hover:shadow-gray-800"
          (click)="toggleDarkMode()"
        >
          <svg
            id="theme-toggle-dark-icon"
            class="w-6 h-6 text-white"
            [class.hidden]="!isDarkMode"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
            ></path>
          </svg>
          <svg
            id="theme-toggle-light-icon"
            class="w-6 h-6"
            [class.hidden]="isDarkMode"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              fill-rule="evenodd"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </li>
    </ul>
    <div
      class="absolute bottom-0 left-0 w-full p-4 border-t border-purple-200/50 dark:border-gray-700 bg-gradient-to-r from-purple-50/50 to-pink-50/50 dark:from-gray-800/50 dark:to-gray-900/50"
    >
      <div
        class="text-center text-sm text-purple-600/80 dark:text-purple-300/90"
      >
        <p>New to Notely?</p>
        <a
          class="font-semibold hover:text-purple-800 dark:hover:text-purple-200 transition-colors"
        >
          Start your free trial
        </a>
      </div>
    </div>
  </div>
</aside>
<div
  id="default-sidebar-backdrop"
  (click)="sidebarService.closeSidebar()"
  class="fixed inset-0 z-30 bg-gray-900/50 dark:bg-gray-900/80 hidden 2xl:hidden"
></div>
